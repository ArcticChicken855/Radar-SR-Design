function(strata_find_qt)
    find_package(Qt6 COMPONENTS ${ARGN} QUIET)
    if (NOT Qt6_FOUND)
        find_package(Qt5 COMPONENTS ${ARGN} QUIET)
        if (NOT Qt5_FOUND)
            set(Qt_FOUND False PARENT_SCOPE)
            return()
        else()
            # the following is needed for Qt versions below 5.15
            foreach (component ${ARGN})
                if (NOT TARGET Qt::${component})
                    add_library(Qt::${component} ALIAS Qt5::${component})
                endif()
            endforeach()
        endif()
    endif()

    set(Qt_FOUND True PARENT_SCOPE)
endfunction()
